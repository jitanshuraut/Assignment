LXI SP,STACK
LXI H,INBUF
LXI B,OUTBUF 
MOV A,M
CALL BCDBIN
STAX B
HLT
BCDBIN:PUSH B
PUSH D
MOV B,A
ANI 0FH
MOV C,A
MOV A,B
ANI F0H
JZ BCD1
RRC
RRC
RRC
RRC
MOV D,A
XRA A
MVI E,0AH
SUM:ADD E
DCR D
JNZ SUM
BCD1:ADD C
POP D
POP B
RET
